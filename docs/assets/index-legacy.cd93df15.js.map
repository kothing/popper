{"version":3,"file":"index-legacy.cd93df15.js","sources":["../../vite/modulepreload-polyfill","../../src/constant.ts","../../node_modules/.pnpm/wblib@1.0.14/node_modules/wblib/lib/env.js","../../node_modules/.pnpm/wblib@1.0.14/node_modules/wblib/lib/destroyable.js","../../node_modules/.pnpm/wblib@1.0.14/node_modules/wblib/lib/dom.js","../../node_modules/.pnpm/wblib@1.0.14/node_modules/wblib/lib/is.js","../../node_modules/.pnpm/wblib@1.0.14/node_modules/wblib/lib/fn.js","../../src/popper.ts","../../demo/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export enum PLACEMENT {\n  T = 't',\n  TL = 'tl',\n  TR = 'tr',\n  B = 'b',\n  BL = 'bl',\n  BR = 'br',\n  L = 'l',\n  LT = 'lt',\n  LB = 'lb',\n  R = 'r',\n  RT = 'rt',\n  RB = 'rb'\n}\n\nexport enum EmitType {\n  HOVER = 'hover',\n  CLICK = 'click'\n}\n","const isBrowser = typeof window !== 'undefined';\r\nconst isTouch = isBrowser && ('ontouchstart' in window || navigator.maxTouchPoints > 0);\n\nexport { isBrowser, isTouch };\n","import { isBrowser } from './env.js';\nimport { isBool } from './is.js';\n\nlet thirdOptsSupported = false;\r\nif (isBrowser) {\r\n    try {\r\n        const options = Object.defineProperty({}, 'once', { get() { thirdOptsSupported = true; } });\r\n        window.addEventListener('test', null, options);\r\n        // eslint-disable-next-line no-empty\r\n    }\r\n    catch (e) { }\r\n}\r\nclass DomListener {\r\n    constructor(node, type, handler, options) {\r\n        this.node = node;\r\n        this.type = type;\r\n        this.handler = handler;\r\n        this.options = options;\r\n        this.options = isBool(options) ? options : options ? (thirdOptsSupported && options) : false;\r\n        node.addEventListener(type, handler, this.options);\r\n    }\r\n    destroy() {\r\n        if (!this.node)\r\n            return;\r\n        this.node.removeEventListener(this.type, this.handler, this.options);\r\n        this.node = null;\r\n    }\r\n}\r\nconst destroyableMap = new Map();\r\nfunction getDestroyableMap() {\r\n    return destroyableMap;\r\n}\r\nfunction addDestroyable(key, destroyable) {\r\n    if (!destroyableMap.has(key))\r\n        destroyableMap.set(key, []);\r\n    destroyableMap.get(key).push(destroyable);\r\n    return destroyable;\r\n}\r\nfunction callAndRemoveDestroyable(key, destroyable) {\r\n    if (!destroyable)\r\n        return;\r\n    if (destroyableMap.has(key)) {\r\n        destroyableMap.set(key, destroyableMap.get(key).filter((x) => x !== destroyable));\r\n    }\r\n    destroyable.destroy();\r\n}\r\nfunction destroy(key) {\r\n    if (destroyableMap.has(key)) {\r\n        destroyableMap.get(key).forEach((item) => item.destroy());\r\n        destroyableMap.delete(key);\r\n    }\r\n}\r\nfunction addDestroyableListener(key, el, type, listener, options) {\r\n    const domListener = new DomListener(el, type, listener, options);\r\n    if (key)\r\n        addDestroyable(key, domListener);\r\n    return domListener;\r\n}\n\nexport { DomListener, addDestroyable, addDestroyableListener, callAndRemoveDestroyable, destroy, getDestroyableMap };\n","import { isString } from './is.js';\n\nconst SELECTOR_REGEX = /([\\w-]+)?(?:#([\\w-]+))?((?:\\.(?:[\\w-]+))*)/;\r\nfunction $(desc, attrs, children, classPrefix = '') {\r\n    let match = [];\r\n    if (desc)\r\n        match = SELECTOR_REGEX.exec(desc) || [];\r\n    const el = document.createElement(match[1] || 'div');\r\n    if (match[2])\r\n        el.id = match[3];\r\n    if (match[3])\r\n        el.className = match[3].replace(/\\./g, ` ${classPrefix}`).trim();\r\n    if (attrs) {\r\n        Object.keys(attrs).forEach((name) => {\r\n            const value = attrs[name];\r\n            if (value === undefined)\r\n                return;\r\n            if (name === 'selected') {\r\n                if (value) {\r\n                    el.setAttribute(name, 'true');\r\n                }\r\n            }\r\n            else {\r\n                el.setAttribute(name, value);\r\n            }\r\n        });\r\n    }\r\n    if (children) {\r\n        if (isString(children)) {\r\n            el.innerHTML = children;\r\n        }\r\n        else {\r\n            children.forEach((c) => el.appendChild(c));\r\n        }\r\n    }\r\n    return el;\r\n}\r\nfunction removeNode(node) {\r\n    if (!node)\r\n        return;\r\n    if (node.remove) {\r\n        node.remove();\r\n    }\r\n    else if (node.parentNode) {\r\n        node.parentNode.removeChild(node);\r\n    }\r\n}\r\nfunction addClass(dom, cls = '', prefix = '') {\r\n    cls = cls.trim();\r\n    if (!cls)\r\n        return dom;\r\n    if (dom.classList) {\r\n        cls.split(' ').forEach((c) => dom.classList.add(prefix + c));\r\n    }\r\n    else {\r\n        const oldCls = (dom.className && dom.className.baseVal) || '';\r\n        dom.setAttribute('class', (oldCls ? `${oldCls} ` : '') + cls.split(' ').map((c) => prefix + c).join(' '));\r\n    }\r\n    return dom;\r\n}\r\nfunction removeClass(dom, cls, prefix = '') {\r\n    dom.classList.remove(prefix + cls);\r\n    return dom;\r\n}\r\nfunction containClass(dom, cls, prefix = '') {\r\n    return dom.classList.contains(prefix + cls);\r\n}\r\nfunction toggleClass(dom, cls, force, prefix = '') {\r\n    cls = prefix + cls;\r\n    if (force) {\r\n        dom.classList.add(cls);\r\n        return true;\r\n    }\r\n    if (force === false) {\r\n        dom.classList.remove(cls);\r\n        return true;\r\n    }\r\n    return dom.classList.toggle(cls, force);\r\n}\r\nfunction show(node) {\r\n    node.style.display = '';\r\n}\r\nfunction hide(node) {\r\n    node.style.display = 'none';\r\n}\r\nfunction create$(desc2, attrs2, children2, classPrefix2) {\r\n    return (desc, attrs, children, classPrefix = '') => $(desc || desc2, attrs || attrs2, children || children2, classPrefix || classPrefix2);\r\n}\r\nconst svgNS = 'http://www.w3.org/2000/svg';\n\nexport { $, addClass, containClass, create$, hide, removeClass, removeNode, show, svgNS, toggleClass };\n","const toString = Object.prototype.toString;\r\nfunction isString(o) {\r\n    return typeof o === 'string' || o instanceof String;\r\n}\r\nfunction isBool(o) {\r\n    return o === true || o === false || (toString.call(o) === '[object Boolean]');\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === 'number' || (toString.call(o) === '[object Number]');\r\n}\r\nfunction isValidNumber(o) {\r\n    const r = isNumber(o);\r\n    if (!r)\r\n        return r;\r\n    // eslint-disable-next-line no-restricted-globals\r\n    return (!isNaN(o) && isFinite(o));\r\n}\n\nexport { isBool, isFunction, isNumber, isString, isValidNumber };\n","import { isBrowser } from './env.js';\nimport { isFunction } from './is.js';\n\nfunction throttle(fn, ctx) {\r\n    let pending = false;\r\n    let first = true;\r\n    let args = null;\r\n    return function () {\r\n        args = arguments;\r\n        if (first) {\r\n            first = false;\r\n            return fn.apply(ctx, args);\r\n        }\r\n        if (pending)\r\n            return;\r\n        pending = true;\r\n        requestAnimationFrame(() => {\r\n            fn.apply(ctx, args);\r\n            pending = false;\r\n        });\r\n    };\r\n}\r\nfunction throttleTime(fn, time = 0, ctx) {\r\n    let pending = false;\r\n    let first = true;\r\n    let args = null;\r\n    return function () {\r\n        args = arguments;\r\n        if (first) {\r\n            first = false;\r\n            return fn.apply(ctx, args);\r\n        }\r\n        if (pending)\r\n            return;\r\n        pending = true;\r\n        setTimeout(() => {\r\n            fn.apply(ctx, args);\r\n            pending = false;\r\n        }, time);\r\n    };\r\n}\r\nfunction getChangedAttrs(newV, oldV, updateOld = false) {\r\n    const patch = [];\r\n    Object.keys(newV).forEach((x) => {\r\n        if (newV[x] !== oldV[x]) {\r\n            patch.push([x, newV[x], oldV[x]]);\r\n            if (updateOld)\r\n                oldV[x] = newV[x];\r\n        }\r\n    });\r\n    return patch;\r\n}\r\nconst nextTick = isBrowser && 'queueMicrotask' in window && isFunction(queueMicrotask) ? queueMicrotask : (fn) => Promise.resolve().then(fn);\n\nexport { getChangedAttrs, nextTick, throttle, throttleTime };\n","import {\n  addClass, Destroyable, removeClass, destroy, throttle, $, getChangedAttrs,\n} from 'wblib';\nimport type {\n  Position, Rect, PopperConfig, CssName, TransitionInfo,\n} from './type';\nimport { EmitType, PLACEMENT } from './constant';\n\nfunction getConfig(config: PopperConfig) {\n  return {\n    container: document.body,\n    placement: PLACEMENT.T,\n    autoPlacement: true,\n    autoUpdate: true,\n    autoScroll: true,\n    translate: [0, 0],\n    clickOutsideClose: true,\n    enterable: true,\n    closeDelay: 50,\n    ...config,\n  } as PopperConfig;\n}\n\nexport function createArrow(style?: CSSStyleDeclaration, cls?: string) {\n  const el = $();\n  if (cls) addClass(el, cls);\n  Object.assign(el.style, {\n    width: '10px',\n    height: '10px',\n    transform: 'rotate(45deg)',\n    transformOrigin: 'center',\n    ...style,\n  });\n  return el as HTMLElement;\n}\n\nexport class Popper implements Destroyable {\n  el!: HTMLElement;\n\n  config!: PopperConfig;\n\n  opened = false;\n\n  isAnimating = false;\n\n  private closed = true;\n\n  private cel!: HTMLElement;\n\n  private cssName?: CssName;\n\n  private showRaf?: any;\n\n  private hideRaf?: any;\n\n  private showTransInfo?: ReturnType<typeof getTransitionInfo>;\n\n  private hideTransInfo?: ReturnType<typeof getTransitionInfo>;\n\n  private clearShow?: () => void;\n\n  private clearHide?: () => void;\n\n  private scrollEls?: HTMLElement[];\n\n  private isTriggerEl!: boolean;\n\n  private arrowEl?: HTMLElement;\n\n  private popHide = false;\n\n  private arrowHide = false;\n\n  private ro?: ResizeObserver;\n\n  private openTimer?: any;\n\n  private closeTimer?: any;\n\n  private prevP?: PLACEMENT;\n\n  constructor(config: PopperConfig) {\n    if (config) this.init(config);\n  }\n\n  protected init(config: PopperConfig) {\n    config = this.config = getConfig(config);\n\n    this.cel = $();\n    const { style } = this.cel;\n    style.position = 'absolute';\n    style.left = style.top = '0';\n\n    const {\n      content, container, trigger,\n    } = config;\n\n    if (config.overflowHidden == null) config.overflowHidden = isElClipped(container!);\n    this.el = this.cel.appendChild($());\n    this.el.appendChild(content);\n\n    this.isTriggerEl = trigger instanceof Element;\n    if (config.autoUpdate) this.observe();\n\n    if (this.needListenScroll()) {\n      this.scrollEls = getScrollElements(trigger as HTMLElement, container!);\n    }\n\n    if (config.arrow) {\n      this.arrowEl = createArrowWrapper();\n      this.arrowEl.appendChild(config.arrow);\n      this.el.appendChild(this.arrowEl);\n    }\n\n    this.setCssName();\n    this.addTriEv();\n    this.addEnterEv();\n\n    if (config.open) {\n      requestAnimationFrame(() => this.open());\n    }\n\n    if (config.keepDom) {\n      hideDom(this.cel);\n      container!.appendChild(this.cel);\n    }\n  }\n\n  update() {\n    if (this.opened && !this.isAnimating) this.open();\n  }\n\n  updateConfig(config: Partial<PopperConfig>) {\n    const changed = getChangedAttrs(config, this.config, true);\n    if (!changed.length) return;\n\n    changed.forEach(([k, n, o]) => {\n      switch (k) {\n        case 'content':\n          this.el.removeChild(o as HTMLElement);\n          if (n) this.el.appendChild(n as HTMLElement);\n          break;\n        case 'emit':\n          if (this.isTriggerEl) {\n            this.removeEmitEv();\n            if (n) this.addTriEv();\n          }\n          this.removeEnterEv();\n          this.addEnterEv();\n          break;\n        case 'container':\n          if (!n) config.container = document.body;\n          if (this.ro) {\n            this.ro.unobserve(o as HTMLElement);\n            this.ro.observe(config.container as HTMLElement);\n          }\n          break;\n        case 'triggerOpenClass':\n          if (this.opened && this.isTriggerEl) {\n            const { trigger } = this.config;\n            if (o) removeClass(trigger as Element, o as string);\n            if (n) addClass(trigger as Element, n as string);\n          }\n          break;\n        case 'enterable':\n          this.removeEnterEv();\n          if (n) this.addEnterEv();\n          break;\n        case 'keepDom':\n          if (n) {\n            if (!this.opened) {\n              hideDom(this.cel);\n              config.container!.appendChild(this.cel);\n            }\n          } else if (!this.opened) {\n              config.container!.removeChild(this.cel);\n              showDom(this.cel);\n          }\n          break;\n        case 'trigger': {\n          const oldIsTriggerEl = this.isTriggerEl;\n          const { triggerOpenClass } = this.config;\n          if (oldIsTriggerEl) {\n            this.removeEmitEv(o as HTMLElement);\n            if (triggerOpenClass) {\n              removeClass(o as Element, triggerOpenClass);\n            }\n          }\n          this.isTriggerEl = n instanceof Element;\n          if (this.ro) {\n            if (oldIsTriggerEl) this.ro.unobserve(o as HTMLElement);\n            if (this.isTriggerEl) this.ro.observe(n as HTMLElement);\n          }\n          if (this.isTriggerEl) {\n            this.addTriEv();\n            if (this.opened && triggerOpenClass) {\n              addClass(o as Element, triggerOpenClass);\n            }\n          }\n          const need = this.needListenScroll();\n          if (need) {\n            if (!this.scrollEls) {\n              const c = this.config;\n              this.scrollEls = getScrollElements(c.trigger! as HTMLElement, c.container!);\n            }\n          } else if (this.scrollEls) {\n            this.removeScrollEv();\n            this.scrollEls = undefined;\n          }\n        }\n          break;\n        case 'autoScroll':\n        case 'closeOnScroll':\n          {\n            const need = this.needListenScroll();\n            if (need) {\n              if (!this.scrollEls) {\n                const c = this.config;\n                this.scrollEls = getScrollElements(c.trigger! as HTMLElement, c.container!);\n                if (this.opened) {\n                  this.scrollEls?.forEach((x) => {\n                    x.addEventListener('scroll', this.onScroll, { passive: true });\n                  });\n                }\n              }\n            } else if (this.scrollEls) {\n              this.removeScrollEv();\n              this.scrollEls = undefined;\n            }\n          }\n          break;\n        case 'arrow':\n          if (this.arrowEl) {\n            this.arrowEl.removeChild(o as Node);\n            if (!n) {\n              this.el.removeChild(this.arrowEl);\n              this.arrowEl = undefined;\n            }\n          }\n          if (n) {\n            this.arrowEl = this.arrowEl || createArrowWrapper();\n            this.arrowEl.appendChild(n as Node);\n            this.el.appendChild(this.arrowEl);\n          }\n          break;\n        case 'autoUpdate':\n          if (n) {\n            if (!this.ro) this.observe();\n          } else if (this.ro) {\n            this.ro.disconnect();\n            this.ro = undefined;\n          }\n          break;\n        case 'cssName':\n          this.setCssName();\n          break;\n        case 'disabled':\n          if (n) this.disable();\n          break;\n      }\n    });\n\n    this.update();\n  }\n\n  destroy() {\n    const { container } = this.config;\n    if (this.ro) {\n      this.ro.disconnect();\n      this.ro = undefined;\n    }\n    if (this.opened) {\n      try {\n        container!.removeChild(this.cel);\n      } catch (e) {\n        //\n      }\n    }\n    cancelAnimationFrame(this.showRaf);\n    cancelAnimationFrame(this.hideRaf);\n    this.clearShow?.();\n    this.clearHide?.();\n    this.isAnimating = true;\n    this.opened = false;\n    this.removeScrollEv();\n    this.removeDocClick();\n    this.removeEmitEv();\n    this.removeEnterEv();\n    destroy(this);\n  }\n\n  open() {\n    if (this.config.disabled) return;\n    this.closed = false;\n    const {\n      config, cssName, opened, el, arrowEl,\n    } = this;\n    const { container, trigger } = config;\n    const fromHide = !opened;\n    if (fromHide) {\n      if (this.isAnimating) return;\n      this.show();\n      this.scrollEls?.forEach((x) => {\n        x.addEventListener('scroll', this.onScroll, { passive: true });\n      });\n      document.addEventListener('click', this.onDocClick);\n    }\n    this.opened = true;\n    const popBcr = el.getBoundingClientRect();\n    const containerBcr = container!.getBoundingClientRect();\n    const arrowBcr = arrowEl?.getBoundingClientRect();\n    let triggerBcr = trigger.getBoundingClientRect() as Rect;\n\n    if (this.isTriggerEl) {\n      triggerBcr = {\n        left: triggerBcr.left - containerBcr.left,\n        top: triggerBcr.top - containerBcr.top,\n        width: triggerBcr.width,\n        height: triggerBcr.height,\n      };\n      if (config.triggerOpenClass) addClass(trigger as Element, config.triggerOpenClass);\n    }\n\n    this.isAnimating = true;\n    if (fromHide && cssName) {\n      const { onBeforeEnter } = config;\n      if (onBeforeEnter) onBeforeEnter();\n      addClass(el, cssName.enterFrom);\n      this.showRaf = requestAnimationFrame(() => {\n        removeClass(el, cssName.enterFrom);\n        addClass(el, cssName.enterActive);\n        addClass(el, cssName.enterTo);\n        const info = this.getTransitionInfo(el, this.showTransInfo);\n        this.showTransInfo = info.info;\n        this.clearShow = info.clear;\n        info.promise.then(this.onShowTransitionEnd);\n      });\n    } else {\n      requestAnimationFrame(() => {\n        this.isAnimating = false;\n      });\n    }\n\n    const ret = config.useTriggerPos ? {\n      xy: [triggerBcr.left, triggerBcr.top],\n      position: config.placement!,\n    } : getPopStyle(\n      config.placement!,\n      containerBcr,\n      triggerBcr,\n      popBcr,\n      config.translate!,\n      config.autoPlacement,\n      config.overflowHidden,\n      config.coverTrigger,\n      arrowBcr,\n      config.hideOnInvisible,\n    );\n\n    const { onBeforePosition, onOpen } = config;\n    if (onBeforePosition) onBeforePosition(ret);\n\n    if (cssName && ret.position !== this.prevP) {\n      if (this.prevP) removeClass(el, `${config.cssName}-${this.prevP}`);\n      this.prevP = ret.position;\n      addClass(el, `${config.cssName}-${ret.position}`);\n    }\n\n    if (ret.xy) {\n      if (this.popHide) {\n        this.popHide = false;\n        showDom(this.cel);\n      }\n      this.cel.style.transform = `translate3d(${ret.xy[0]}px,${ret.xy[1]}px,0)`;\n    } else if (!this.popHide) {\n      hideDom(this.cel);\n      this.popHide = true;\n    }\n    if (arrowEl) {\n      if (ret.arrowXY) {\n        if (this.arrowHide) {\n          this.arrowHide = false;\n          showDom(arrowEl);\n        }\n        arrowEl.style.transform = `translate(${ret.arrowXY[0]}px,${ret.arrowXY[1]}px)`;\n      } else if (!this.arrowHide) {\n        this.arrowHide = true;\n        hideDom(arrowEl);\n      }\n    }\n\n    if (fromHide && onOpen) onOpen();\n  }\n\n  close() {\n    this.closed = true;\n    if (this.isAnimating || !this.opened) return;\n    this.opened = false;\n\n    const { config, cssName, el } = this;\n    const { onClose } = config;\n    if (cssName) {\n      const { onBeforeExit } = config;\n      if (onBeforeExit) onBeforeExit();\n      addClass(el, cssName.exitFrom);\n      this.isAnimating = true;\n      this.hideRaf = requestAnimationFrame(() => {\n        removeClass(el, cssName.exitFrom);\n        addClass(el, cssName.exitActive);\n        addClass(el, cssName.exitTo);\n        const info = this.getTransitionInfo(el, this.hideTransInfo);\n        this.hideTransInfo = info.info;\n        this.clearHide = info.clear;\n        info.promise.then(this.onHideTransitionEnd);\n      });\n    } else {\n      this.hide();\n    }\n\n    if (this.isTriggerEl && config.triggerOpenClass) {\n      removeClass(config.trigger as Element, config.triggerOpenClass);\n    }\n\n    this.removeScrollEv();\n    this.removeDocClick();\n    if (onClose) onClose();\n    document.removeEventListener('click', this.onDocClick);\n  }\n\n  toggle() {\n    if (this.opened) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  enable() {\n    this.config.disabled = false;\n  }\n\n  disable() {\n    this.config.disabled = true;\n    this.close();\n  }\n\n  onScroll = throttle(() => {\n    if (this.config.closeOnScroll) {\n      this.close();\n    } else {\n      this.update();\n    }\n  });\n\n  openWithDelay() {\n    this.clearOCTimer();\n    const { openDelay } = this.config;\n    if (openDelay) {\n      this.openTimer = setTimeout(() => {\n        this.open();\n      }, openDelay);\n    } else {\n      this.open();\n    }\n  }\n\n  closeWithDelay() {\n    this.clearOCTimer();\n    const { closeDelay } = this.config;\n    if (closeDelay) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, closeDelay);\n    } else {\n      this.close();\n    }\n  }\n\n  private show() {\n    const { config } = this;\n    if (config.keepDom) {\n      showDom(this.cel);\n    } else {\n      config.container!.appendChild(this.cel);\n    }\n  }\n\n  private hide() {\n    const { config } = this;\n    if (config.keepDom) {\n      hideDom(this.cel);\n    } else {\n      config.container!.removeChild(this.cel);\n    }\n  }\n\n  private onTriClick = () => {\n    if (this.opened) {\n      this.closeWithDelay();\n    } else {\n      this.openWithDelay();\n    }\n  };\n\n  private onTriEnter = () => {\n    this.clearOCTimer();\n    if (this.isAnimating) this.closed = false;\n    if (this.opened) return;\n    this.openWithDelay();\n  };\n\n  private onTriLeave = () => {\n    this.clearOCTimer();\n    if (this.isAnimating) this.closed = true;\n    if (!this.opened) return;\n    this.closeWithDelay();\n  };\n\n  private clearOCTimer = () => {\n    clearTimeout(this.openTimer);\n    clearTimeout(this.closeTimer);\n  };\n\n  private removeDocClick = () => {\n    document.removeEventListener('click', this.onDocClick);\n  };\n\n  private removeEmitEv(el?: HTMLElement) {\n    el = el || (this.config.trigger as HTMLElement);\n    if (el instanceof Element) {\n      (el as HTMLElement).removeEventListener('click', this.onTriClick);\n      (el as HTMLElement).removeEventListener('mouseenter', this.onTriEnter);\n      (el as HTMLElement).removeEventListener('mouseleave', this.onTriLeave);\n    }\n  }\n\n  private onDocClick = ({ target }: MouseEvent) => {\n    const { onClickOutside, clickOutsideClose } = this.config;\n\n    if (onClickOutside || clickOutsideClose) {\n      if (\n        this.el?.contains((target as HTMLElement))\n        || (this.isTriggerEl && (this.config.trigger as HTMLElement)?.contains(target as HTMLElement))\n      ) return;\n      onClickOutside?.();\n      if (clickOutsideClose) this.closeWithDelay();\n    }\n  };\n\n  private observe() {\n    const { config } = this;\n    const ro = this.ro = new ResizeObserver(() => this.update());\n    ro.observe(this.el);\n    ro.observe(config.container!);\n    if (this.isTriggerEl) ro.observe(config.trigger as HTMLElement);\n  }\n\n  private addTriEv() {\n    const { config } = this;\n    if (this.isTriggerEl && config.emit) {\n      const { trigger } = config;\n      if (config.emit === EmitType.CLICK) {\n        (trigger as HTMLElement).addEventListener('click', this.onTriClick);\n      } else {\n        (trigger as HTMLElement).addEventListener('mouseenter', this.onTriEnter);\n        (trigger as HTMLElement).addEventListener('mouseleave', this.onTriLeave);\n      }\n    }\n  }\n\n  private addEnterEv() {\n    const { config } = this;\n    if (config.enterable && config.emit === EmitType.HOVER) {\n      this.cel.addEventListener('mouseenter', this.onTriEnter);\n      this.cel.addEventListener('mouseleave', this.onTriLeave);\n    }\n  }\n\n  private removeEnterEv() {\n    this.cel.removeEventListener('mouseenter', this.onTriEnter);\n    this.cel.removeEventListener('mouseleave', this.onTriLeave);\n  }\n\n  private removeScrollEv() {\n    this.scrollEls?.forEach((x) => x.removeEventListener('scroll', this.onScroll));\n  }\n\n  private getTransitionInfo(el: Element, info?: TransitionInfo) {\n    let clear: undefined | (() => void);\n    const promise = new Promise((resolve) => {\n      const { event, timeout } = info || getTransitionInfo(el);\n      if (timeout) {\n        const fn = () => {\n          clear?.();\n          resolve(null);\n        };\n        el.addEventListener(event!, fn);\n        const timer = setTimeout(() => {\n          clear?.();\n          resolve(null);\n        }, timeout + 2);\n        clear = () => {\n          clearTimeout(timer);\n          el.removeEventListener(event!, fn);\n        };\n      } else {\n        requestAnimationFrame(resolve);\n      }\n    });\n\n    return {\n      promise,\n      clear,\n      info,\n    };\n  }\n\n  private onShowTransitionEnd = () => {\n    const { cssName, el } = this;\n    const { onEntered } = this.config;\n    removeClass(el, cssName!.enterActive);\n    removeClass(el, cssName!.enterTo);\n    this.isAnimating = false;\n    if (onEntered) onEntered();\n    if (this.closed) this.closeWithDelay();\n  };\n\n  private onHideTransitionEnd = () => {\n    const { cssName, config, el } = this;\n    const { onExited } = config;\n    this.hide();\n    removeClass(el, cssName!.exitActive);\n    removeClass(el, cssName!.exitTo);\n    this.isAnimating = false;\n    if (onExited) onExited();\n    if (!this.closed) this.openWithDelay();\n  };\n\n  private needListenScroll() {\n    const { config } = this;\n    return this.isTriggerEl && config.container && (config.autoScroll || config.closeOnScroll);\n  }\n\n  private setCssName() {\n    const { cssName } = this.config;\n    this.cssName = cssName ? {\n      enterFrom: `${cssName}-enter-from`,\n      enterActive: `${cssName}-enter-active`,\n      enterTo: `${cssName}-enter-to`,\n      exitFrom: `${cssName}-exit-from`,\n      exitActive: `${cssName}-exit-active`,\n      exitTo: `${cssName}-exit-to`,\n    } : undefined;\n  }\n}\n\nfunction getPopupOffset(\n  position: PLACEMENT,\n  triggerRect: Rect,\n  popWH: Rect,\n  translate: number[],\n) {\n  switch (position) {\n    case PLACEMENT.T:\n      return [\n        triggerRect.left + triggerRect.width / 2 - popWH.width / 2 + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.TL:\n      return [\n        triggerRect.left + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.TR:\n      return [\n        triggerRect.left + triggerRect.width - popWH.width + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.B:\n      return [\n        triggerRect.left + triggerRect.width / 2 - popWH.width / 2 + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.BL:\n      return [\n        triggerRect.left + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.BR:\n      return [\n        triggerRect.left + triggerRect.width - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.L:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height / 2 - popWH.height / 2 + translate[1],\n      ];\n    case PLACEMENT.LT:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + translate[1],\n      ];\n    case PLACEMENT.LB:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height - popWH.height + translate[1],\n      ];\n    case PLACEMENT.R:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + triggerRect.height / 2 - popWH.height / 2 + translate[1],\n      ];\n    case PLACEMENT.RT:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + translate[1],\n      ];\n    case PLACEMENT.RB:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + triggerRect.height - popWH.height + translate[1],\n      ];\n    default:\n      return [0, 0];\n  }\n}\n\nfunction getBoundaryPosition(position: PLACEMENT) {\n  switch (position) {\n    case PLACEMENT.T:\n    case PLACEMENT.TL:\n    case PLACEMENT.TR:\n      return PLACEMENT.T;\n    case PLACEMENT.B:\n    case PLACEMENT.BL:\n    case PLACEMENT.BR:\n      return PLACEMENT.B;\n    case PLACEMENT.L:\n    case PLACEMENT.LT:\n    case PLACEMENT.LB:\n      return PLACEMENT.L;\n    case PLACEMENT.R:\n    case PLACEMENT.RT:\n    case PLACEMENT.RB:\n      return PLACEMENT.R;\n    default:\n      return PLACEMENT.T;\n  }\n}\n\nfunction changePosition(\n  position: PLACEMENT,\n  direction: ReturnType<typeof getBoundaryPosition>,\n): PLACEMENT {\n  switch (direction) {\n    case PLACEMENT.T:\n      switch (position) {\n        case PLACEMENT.B:\n          return PLACEMENT.T;\n        case PLACEMENT.BL:\n          return PLACEMENT.TL;\n        case PLACEMENT.BR:\n          return PLACEMENT.TR;\n        default:\n          return position;\n      }\n    case PLACEMENT.B:\n      switch (position) {\n        case PLACEMENT.T:\n          return PLACEMENT.B;\n        case PLACEMENT.TL:\n          return PLACEMENT.BL;\n        case PLACEMENT.TR:\n          return PLACEMENT.BR;\n        default:\n          return position;\n      }\n    case PLACEMENT.L:\n      switch (position) {\n        case PLACEMENT.R:\n          return PLACEMENT.L;\n        case PLACEMENT.RT:\n          return PLACEMENT.LT;\n        case PLACEMENT.RB:\n          return PLACEMENT.LB;\n        default:\n          return position;\n      }\n    case PLACEMENT.R:\n      switch (position) {\n        case PLACEMENT.L:\n          return PLACEMENT.R;\n        case PLACEMENT.LT:\n          return PLACEMENT.RT;\n        case PLACEMENT.LB:\n          return PLACEMENT.RB;\n        default:\n          return position;\n      }\n    default:\n      return position;\n  }\n}\n\nfunction getFitPosition(\n  position: PLACEMENT,\n  popupPosition: number[],\n  containerRect: Rect,\n  popWH: Rect,\n  triggerRect: Rect,\n  translate: number[],\n  direction: PLACEMENT,\n  overflow?: boolean,\n) {\n  const viewPortSize = [\n    document.documentElement.clientWidth || window.innerWidth,\n    document.documentElement.clientHeight || window.innerHeight,\n  ];\n\n  const boundary = [\n    overflow ? Math.max(containerRect.left, 0) : 0,\n    overflow ? Math.max(containerRect.top, 0) : 0,\n    overflow ? Math.min(containerRect.left + containerRect.width, viewPortSize[0]) : viewPortSize[0],\n    overflow ? Math.min(containerRect.top + containerRect.height, viewPortSize[1]) : viewPortSize[1],\n  ];\n  const x = containerRect.left + popupPosition[0];\n  const y = containerRect.top + popupPosition[1];\n  const popRect = [\n    containerRect.left + popupPosition[0],\n    containerRect.top + popupPosition[1],\n    x + popWH.width,\n    y + popWH.height,\n  ];\n  const triggerX = containerRect.left + triggerRect.left;\n  const triggerY = containerRect.top + triggerRect.top;\n  const triggerEx = triggerX + triggerRect.width;\n  const triggerEy = triggerY + triggerRect.height;\n  let finalPosition = position;\n  if (direction === PLACEMENT.T) {\n    if (y < boundary[1]) {\n      if (boundary[3] - triggerEy + translate[1] >= popWH.height && triggerEy - translate[1] >= boundary[1]) {\n        popupPosition[1] = getPopupOffset(PLACEMENT.B, triggerRect, popWH, [translate[0], -translate[1]])[1];\n        finalPosition = changePosition(position, PLACEMENT.B);\n      } else {\n        popupPosition[1] = overflow ? 0 : -containerRect.top;\n      }\n    } else if (popRect[3] > boundary[3]) {\n      popupPosition[1] = overflow ? containerRect.height - popWH.height : viewPortSize[1] - containerRect.top - popWH.height;\n    }\n  } else if (direction === PLACEMENT.B) {\n    if (popRect[3] > boundary[3]) {\n      if (triggerY - boundary[1] - translate[1] >= popWH.height && triggerY - translate[1] <= boundary[3]) {\n        popupPosition[1] = getPopupOffset(PLACEMENT.T, triggerRect, popWH, [translate[0], -translate[1]])[1];\n        finalPosition = changePosition(position, PLACEMENT.T);\n      } else {\n        popupPosition[1] = overflow ? containerRect.height - popWH.height : viewPortSize[1] - containerRect.top - popWH.height;\n      }\n    } else if (y < boundary[1]) {\n      popupPosition[1] = overflow ? 0 : -containerRect.top;\n    }\n  } else if (direction === PLACEMENT.L) {\n    if (x < boundary[0]) {\n      if (boundary[2] - triggerEx + translate[0] >= popWH.width && triggerEx - translate[0] >= boundary[0]) {\n        finalPosition = changePosition(position, PLACEMENT.R);\n        popupPosition[0] = getPopupOffset(PLACEMENT.R, triggerRect, popWH, [-translate[0], translate[1]])[0];\n      } else {\n        popupPosition[0] = overflow ? 0 : -containerRect.left;\n      }\n    } else if (popRect[2] > boundary[2]) {\n      popupPosition[0] = overflow ? containerRect.width - popWH.width : viewPortSize[0] - containerRect.left + popWH.width;\n    }\n  } else if (direction === PLACEMENT.R) {\n    if (popRect[2] > boundary[2]) {\n      if (triggerX - boundary[0] - translate[0] >= popWH.width && triggerX - translate[0] <= boundary[2]) {\n        finalPosition = changePosition(position, PLACEMENT.L);\n        popupPosition[0] = getPopupOffset(PLACEMENT.L, triggerRect, popWH, [-translate[0], translate[1]])[0];\n      } else {\n        popupPosition[0] = overflow ? containerRect.width - popWH.width : viewPortSize[0] - containerRect.left + popWH.width;\n      }\n    } else if (x < boundary[0]) {\n      popupPosition[0] = overflow ? 0 : -containerRect.left;\n    }\n  }\n\n  if (direction === PLACEMENT.T || direction === PLACEMENT.B) {\n    if (x < boundary[0]) {\n      popupPosition[0] = overflow ? 0 : -containerRect.left;\n    } else if (popRect[2] > boundary[2]) {\n      popupPosition[0] = overflow ? containerRect.width - popWH.width : viewPortSize[0] - containerRect.left + popWH.width;\n    }\n  } else if (direction === PLACEMENT.L || direction === PLACEMENT.R) {\n    if (y < boundary[1]) {\n      popupPosition[1] = overflow ? 0 : -containerRect.top;\n    } else if (popRect[3] > boundary[3]) {\n      popupPosition[1] = overflow ? containerRect.height - popWH.height : viewPortSize[1] - containerRect.top - popWH.height;\n    }\n  }\n\n  return finalPosition;\n}\n\nfunction getPopStyle(\n  position: PLACEMENT,\n  containerRect: Rect,\n  triggerRect: Rect,\n  popWH: Rect,\n  translate: number[],\n  // eslint-disable-next-line default-param-last\n  autoFit = true,\n  overflow?: boolean,\n  coverTrigger?: boolean,\n  arrowWH?: Rect,\n  hideOnInvisible?: boolean,\n): Position {\n  const triggerOut = triggerRect.left >= containerRect.width\n  || triggerRect.top >= containerRect.height\n  || triggerRect.left + triggerRect.width <= 0\n  || triggerRect.top + triggerRect.height <= 0;\n\n  if (hideOnInvisible && triggerOut) {\n    return { position };\n  }\n\n  let der = getBoundaryPosition(position);\n  if (coverTrigger) {\n    translate = [...translate];\n    if (der === PLACEMENT.T) {\n      translate[1] += triggerRect.height;\n    } else if (der === PLACEMENT.B) {\n      translate[1] -= triggerRect.height;\n    } else if (der === PLACEMENT.L) {\n      translate[0] += triggerRect.width;\n    } else {\n      translate[0] -= triggerRect.width;\n    }\n  }\n\n  const popupPosition = getPopupOffset(position, triggerRect, popWH, translate);\n\n  if (autoFit) {\n    position = getFitPosition(\n      position,\n      popupPosition,\n      containerRect,\n      popWH,\n      triggerRect,\n      translate,\n      der,\n      overflow,\n    );\n  }\n\n  let arrowXY: undefined | number[];\n  if (!triggerOut && arrowWH) {\n    der = getBoundaryPosition(position);\n    arrowXY = [];\n    const half = [arrowWH.width / 2, arrowWH.height / 2];\n    const isL = der === PLACEMENT.L;\n    if (isL || der === PLACEMENT.R) {\n      arrowXY[1] = triggerRect.top + triggerRect.height / 2 - popupPosition[1] - half[1];\n      if (arrowXY[1] < half[1] || arrowXY[1] > popWH.height - arrowWH.height - half[1]) {\n        arrowXY = undefined;\n      } else {\n        arrowXY[0] = (isL ? popWH.width : 0) - half[0];\n      }\n    } else {\n      arrowXY[0] = triggerRect.left + triggerRect.width / 2 - popupPosition[0] - half[0];\n      if (arrowXY[0] < half[0] || arrowXY[0] > popWH.width - arrowWH.width - half[0]) {\n        arrowXY = undefined;\n      } else {\n        arrowXY[1] = (der === PLACEMENT.T ? popWH.height : 0) - half[1];\n      }\n    }\n  }\n\n  return {\n    xy: popupPosition,\n    arrowXY,\n    position,\n  };\n}\n\nfunction createArrowWrapper() {\n  const arrowEl = $();\n  const style = arrowEl.style;\n  style.position = 'absolute';\n  style.left = style.top = '0';\n  style.zIndex = '-1';\n  return arrowEl;\n}\n\nfunction getTransitionInfo(el: Element): TransitionInfo {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key: keyof typeof styles) => ((styles[key] || '') as any).split(', ');\n  const transitionDelays = getStyleProperties('transitionDelay');\n  const transitionDurations = getStyleProperties('transitionDuration');\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties('animationDelay');\n  const animationDurations = getStyleProperties('animationDuration');\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  const timeout = Math.max(transitionTimeout, animationTimeout);\n\n  return {\n    event: timeout > 0 ? transitionTimeout > animationTimeout ? 'transitionend' : 'animationend' : undefined,\n    timeout,\n  };\n}\n\nfunction getTimeout(delays: string[], durations: string[]): number {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\n\nfunction toMs(s: string): number {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000;\n}\n\nfunction isElClipped(element: Element) {\n  const {\n    overflow, overflowX, overflowY,\n  } = window.getComputedStyle(element);\n  const o = overflow + overflowY + overflowX;\n  return o.includes('hidden') || o.includes('clip');\n}\n\nfunction hideDom(el: HTMLElement) {\n  const { style } = el;\n  style.opacity = '0';\n  style.pointerEvents = 'none';\n}\nfunction showDom(el: HTMLElement) {\n  const { style } = el;\n  style.opacity = style.pointerEvents = '';\n}\n\nfunction isScrollElement(element: HTMLElement) {\n  return (\n    element.scrollHeight > element.offsetHeight\n    || element.scrollWidth > element.offsetWidth\n  );\n}\n\nfunction getScrollElements(el: HTMLElement, container: HTMLElement) {\n  const scrollElements: HTMLElement[] = [];\n  while (el && el !== container) {\n    if (isScrollElement(el)) {\n      scrollElements.push(el);\n    }\n    el = el.parentElement!;\n  }\n  if (scrollElements.length) return scrollElements;\n}\n","import {\n  Popper, createArrow, PLACEMENT, EmitType,\n} from '../src';\n\nwindow.onload = function () {\n  const container = document.querySelector('.container')! as HTMLElement;\n  const c = document.querySelector('.c')! as HTMLElement;\n  const btn = document.querySelector('#btn')! as HTMLElement;\n  const content = document.createElement('div');\n  content.classList.add('content');\n\n  const cbb = container.getBoundingClientRect();\n\n  c.scrollTop = (2000 - cbb.height) / 2 + 10;\n  c.scrollLeft = (2000 - cbb.width) / 2 + 10;\n\n  // btn.onclick = () => {\n  //   popup.toggle();\n  // };\n\n  const arrow = createArrow(undefined, 'arrow');\n\n  const config = {\n    container,\n    content,\n    trigger: btn,\n    autoPlacement: true,\n    autoUpdate: true,\n    autoScroll: true,\n    translate: [0, -10],\n    arrow,\n    cssName: 'fade',\n    placement: PLACEMENT.T,\n    openDelay: 0,\n    closeDelay: 50,\n    emit: EmitType.CLICK,\n    open: true,\n  };\n  const popup = new Popper(config as any);\n\n  const update = () => {\n    popup.updateConfig(config);\n  };\n\n  const selection = document.querySelector('.section') as HTMLElement;\n  selection.onchange = ({ target }) => {\n    const { name, value, checked } = target as any;\n    if (name === 'cb') {\n      if (value === 'arrow') {\n        config.arrow = (checked ? arrow : undefined) as any;\n      } else if (value === 'css') {\n        config.cssName = checked ? 'fade' : '';\n      } else {\n        config[value] = checked;\n      }\n      update();\n    } else if (name === 'placement') {\n      config.placement = value;\n      update();\n    } else if (name === 'emit') {\n      config.emit = value || undefined;\n      update();\n    }\n  };\n\n  const transXs = document.querySelector('.translate-x-s') as HTMLElement;\n  const transYs = document.querySelector('.translate-y-s') as HTMLElement;\n  const openD = document.querySelector('.open-delay') as HTMLElement;\n  const closeD = document.querySelector('.close-delay') as HTMLElement;\n\n  selection.oninput = ({ target }) => {\n    const { name, value } = target as any;\n    if (name === 'translateX') {\n      transXs.textContent = `${value}px`;\n      config.translate = [Number(value), config.translate[1]];\n      update();\n    } else if (name === 'translateY') {\n      transYs.textContent = `${value}px`;\n      config.translate = [config.translate[0], Number(value)];\n      update();\n    } else if (name === 'openDelay') {\n      openD.textContent = `${value}ms`;\n      config.openDelay = Number(value);\n      update();\n    } else if (name === 'closeDelay') {\n      closeD.textContent = `${value}ms`;\n      config.closeDelay = Number(value);\n      update();\n    }\n  };\n};\n"],"names":["PLACEMENT","EmitType","isBrowser","window","options","Object","defineProperty","get","addEventListener","e","destroyableMap","Map","SELECTOR_REGEX","$","desc","attrs","children","classPrefix","arguments","length","undefined","match","exec","o","el","document","createElement","id","className","replace","concat","trim","keys","forEach","name","value","setAttribute","String","innerHTML","c","appendChild","addClass","dom","cls","prefix","classList","split","add","oldCls","baseVal","map","join","removeClass","remove","queueMicrotask","Popper","config","_this","fn","ctx","pending","first","args","_classCallCheck","this","opened","isAnimating","closed","popHide","arrowHide","onScroll","closeOnScroll","close","update","apply","requestAnimationFrame","onTriClick","closeWithDelay","openWithDelay","onTriEnter","clearOCTimer","onTriLeave","clearTimeout","openTimer","closeTimer","removeDocClick","removeEventListener","onDocClick","_ref","target","_this$config","onClickOutside","clickOutsideClose","_this$el","_this$config$trigger","contains","isTriggerEl","trigger","onShowTransitionEnd","cssName","onEntered","enterActive","enterTo","onHideTransitionEnd","onExited","hide","exitActive","exitTo","init","key","_this2","_objectSpread","container","body","placement","T","autoPlacement","autoUpdate","autoScroll","translate","enterable","closeDelay","getConfig","cel","style","position","left","top","_config","content","overflowHidden","element","_window$getComputedSt","getComputedStyle","overflow","overflowX","overflowY","includes","isElClipped","Element","observe","needListenScroll","scrollEls","getScrollElements","arrow","arrowEl","createArrowWrapper","setCssName","addTriEv","addEnterEv","open","keepDom","hideDom","_this3","changed","newV","oldV","updateOld","patch","x","push","getChangedAttrs","_ref2","_ref3","_slicedToArray","k","n","removeChild","removeEmitEv","removeEnterEv","ro","unobserve","showDom","oldIsTriggerEl","triggerOpenClass","removeScrollEv","_this3$scrollEls","passive","disconnect","disable","_this$clearShow","_this$clearHide","cancelAnimationFrame","showRaf","hideRaf","clearShow","call","clearHide","has","item","destroy","delete","_this4","disabled","fromHide","_this$scrollEls","show","popBcr","getBoundingClientRect","containerBcr","arrowBcr","triggerBcr","width","height","onBeforeEnter","enterFrom","info","getTransitionInfo","showTransInfo","clear","promise","then","ret","useTriggerPos","xy","containerRect","triggerRect","popWH","autoFit","coverTrigger","arrowWH","hideOnInvisible","triggerOut","der","getBoundaryPosition","_toConsumableArray","B","L","arrowXY","popupPosition","getPopupOffset","direction","viewPortSize","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","boundary","Math","max","min","y","popRect","triggerX","triggerY","triggerEx","triggerEy","finalPosition","changePosition","R","getFitPosition","half","isL","getPopStyle","onBeforePosition","onOpen","prevP","transform","_this5","onClose","onBeforeExit","exitFrom","hideTransInfo","_this6","openDelay","setTimeout","_this7","_this8","ResizeObserver","emit","CLICK","HOVER","_this$scrollEls2","_this9","Promise","resolve","_ref4","styles","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","timeout","event","_clear","timer","_clear2","TL","TR","BL","BR","LT","LB","RT","RB","zIndex","delays","durations","d","i","toMs","s","Number","slice","opacity","pointerEvents","scrollElements","scrollHeight","offsetHeight","scrollWidth","offsetWidth","parentElement","onload","querySelector","btn","cbb","scrollTop","scrollLeft","assign","transformOrigin","popup","updateConfig","selection","onchange","_ref5","checked","transXs","transYs","openD","closeD","oninput","_ref6","textContent"],"mappings":"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"}